# {{PROJECT_NAME}}

> Generated by [CF Architect](https://cf-architect.dev) — a Cloudflare architecture diagramming tool.

## Prerequisites

- [Node.js](https://nodejs.org/) v18 or later
- [npm](https://www.npmjs.com/) v9 or later
- [Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/install-and-update/) (`npm install -g wrangler`)
- A [Cloudflare account](https://dash.cloudflare.com/sign-up)

## Getting Started

```bash
# Install dependencies
npm install

# Authenticate with Cloudflare (first time only)
wrangler login
{{D1_LOCAL_SECTION}}
# Start the local development server
npm run dev
```

{{D1_LOCAL_SECTION_START}}
### Database Setup (Local)

This project uses Cloudflare D1 with [Drizzle ORM](https://orm.drizzle.team/).

```bash
# Apply migrations to your local D1 database
npm run db:migrate:local
```

To modify the database schema, edit `src/db/schema.ts` then generate a new migration:

```bash
npm run db:generate
npm run db:migrate:local
```
{{D1_LOCAL_SECTION_END}}

## Deployment

Deploy everything to Cloudflare with a single command:

```bash
npm run deploy
```

{{D1_DEPLOY_SECTION_START}}
This runs the following steps in order:

1. **`deploy:db`** — Applies D1 database migrations to production
2. **`deploy:cf`** — Deploys the Worker to Cloudflare
{{D1_DEPLOY_SECTION_END}}
{{NO_D1_DEPLOY_SECTION_START}}
This deploys the Worker to Cloudflare using `wrangler deploy`.
{{NO_D1_DEPLOY_SECTION_END}}

## Project Structure

```
├── src/
│   └── index.ts          # Worker entry point
├── wrangler.toml          # Cloudflare bindings configuration
├── package.json
└── tsconfig.json
```

## Useful Links

- [Cloudflare Workers Docs](https://developers.cloudflare.com/workers/)
- [Wrangler CLI Reference](https://developers.cloudflare.com/workers/wrangler/commands/)
{{D1_LINKS_START}}
- [Cloudflare D1 Docs](https://developers.cloudflare.com/d1/)
- [Drizzle ORM Docs](https://orm.drizzle.team/)
{{D1_LINKS_END}}
- [KV Docs](https://developers.cloudflare.com/kv/)
- [R2 Docs](https://developers.cloudflare.com/r2/)
- [Queues Docs](https://developers.cloudflare.com/queues/)
